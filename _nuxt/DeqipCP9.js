import{_ as v}from"./DQu6aDY2.js";import{u as w}from"./B-RZKRZT.js";import{u as k}from"./DatrwkiE.js";import{g as S,m as c,p as C,c as n,a as t,b as L,q as s,j as m,d as u,t as o,w as N,o as a}from"./DDdGTNQA.js";import"./CLStg_Nh.js";const V={class:"min-h-screen bg-gray-100"},D={class:"max-w-3xl mx-auto py-10 px-4"},M={class:"flex justify-between items-center mb-6"},j={class:"mt-4 rounded-xl border border-slate-800 bg-slate-900/70 px-4 py-3 text-sm text-slate-100"},B={class:"flex items-center justify-between gap-3"},X={class:"text-xs text-slate-400"},E={class:"font-medium"},F={key:0,class:"text-[11px] text-slate-500 mt-1"},$=["disabled"],q={key:0,class:"text-xs text-red-400 mt-1"},K=S({__name:"dashboard",setup(A){const{logout:p}=w(),{rows:r,lastSync:i,isSyncing:x,syncError:l,loadFromCache:y,syncFromXtream:b}=k(),d=c(()=>x.value),_=c(()=>i.value?new Date(i.value).toLocaleString():"Never synced");C(async()=>{await y()});const g=async()=>{await b()};return(f,e)=>{const h=v;return a(),n("div",V,[t("div",D,[t("header",M,[e[1]||(e[1]=t("h1",{class:"text-2xl font-semibold"},"Xtream Dashboard",-1)),t("button",{onClick:e[0]||(e[0]=T=>{s(p)(),f.$router.push("/iptv")}),class:"px-3 py-1 rounded bg-gray-800 text-white text-sm"}," Logout ")]),t("section",j,[t("div",B,[t("div",null,[e[3]||(e[3]=t("p",{class:"font-semibold"},"Movie Library",-1)),t("p",X,[e[2]||(e[2]=u(" Last sync: ",-1)),t("span",E,o(s(_)),1)]),s(r).length?(a(),n("p",F," Cached rows: "+o(s(r).length)+" categories ",1)):m("",!0)]),t("button",{type:"button",onClick:g,disabled:s(d),class:"px-3 py-1.5 rounded-full text-xs font-semibold border border-sky-500 bg-sky-600 text-white hover:bg-sky-500 disabled:opacity-60 disabled:cursor-not-allowed"},o(s(d)?"Syncingâ€¦":"Sync Library"),9,$)]),s(l)?(a(),n("p",q,o(s(l)),1)):m("",!0)]),L(h,{to:"/iptv/movies",class:"inline-block mt-4 px-4 py-2 rounded bg-blue-600 text-white text-sm"},{default:N(()=>[...e[4]||(e[4]=[u(" View Movies ",-1)])]),_:1})])])}}});export{K as default};
